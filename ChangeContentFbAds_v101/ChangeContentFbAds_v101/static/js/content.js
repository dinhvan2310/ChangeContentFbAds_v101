(()=>{const t={RESULTS:"K\u1ebft qu\u1ea3 ",COST_PER_RESULT:"Chi ph\xed tr\xean m\u1ed7i k\u1ebft qu\u1ea3 ",SPENT:"S\u1ed1 ti\u1ec1n \u0111\xe3 chi ti\xeau ",REACH:"Ng\u01b0\u1eddi ti\u1ebfp c\u1eadn ",VIEWS:"L\u01b0\u1ee3t hi\u1ec3n th\u1ecb "},e={RESULTS:"Results ",COST_PER_RESULT:"Cost per result ",SPENT:"Amount spent ",REACH:"Reach ",VIEWS:"Impressions "};let o=[],i=[],a=[],s="VND";function n(t){if("USD"===s){const e={style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2};let o=new Intl.NumberFormat("en-US",e).format(t);return o=o.replace("$","").trim()+" $",o}if("VND"===s)return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:2}).format(t)}chrome.storage.local.get(["campaigns"],(function(t){o=t.campaigns,console.log("optionsCampaign",o)})),chrome.storage.local.get(["adsets"],(function(t){i=t.adsets,console.log("adsetsOption",i)})),chrome.storage.local.get(["ads"],(function(t){a=t.ads,console.log("adsOption",a)})),chrome.storage.local.get(["currencyType"],(function(t){s=t.currencyType,console.log("currencyType",s)}));let l=document.querySelector("._3h1i._1mie ._3h1j");const c=o=>{const i=document.querySelectorAll("._63jp ._4lg0._4lg5._4h2p._4h2m"),a={};i.forEach((t=>{let e=t.parentElement;for(;"_1eyh _1eyi"!==e.className;)e=e.parentElement;a[e.style.left]=t.textContent})),console.log(a);let s=document.querySelectorAll("._1gd5 ._4lg0._4lg5._4h2p._4h2m"),l=0;for(let t=1;t<s.length;t++)if(s[t].style.left===s[0].style.left){l=t;break}for(let c=0;c<l;c++){const i=s[s.length-c-1],l=i.style.left,d=o.length-1;switch(a[l]){case t.RESULTS:case e.RESULTS:if("\u2014"===i.textContent.charAt(0)){const t=i.querySelector(".xt0psk2");t?t.textContent=o[d].results.toLocaleString("vi-VN"):i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class="_3qn7 _61-0 _2fyi _3qnf"><div class="_6g3g _9mk-" style="flex: 1 1 0px; order: 0;"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj"><span data-interactable="|mouseover|">${o[d].results.toLocaleString("vi-VN")}</span></div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">${i.textContent.includes("Ng\u01b0\u1eddi ti\u1ebfp c\u1eadn")?"Ng\u01b0\u1eddi ti\u1ebfp c\u1eadn":i.textContent.includes("L\u01b0\u1ee3t ho\xe0n t\u1ea5t \u0111\u0103ng k\xfd tr\xean trang web")?"L\u01b0\u1ee3t ho\xe0n t\u1ea5t \u0111\u0103ng k\xfd tr\xean trang web":i.textContent.includes("L\u01b0\u1ee3t b\u1eaft \u0111\u1ea7u tr\xf2 chuy\u1ec7n qua tin nh\u1eafn")?"L\u01b0\u1ee3t b\u1eaft \u0111\u1ea7u tr\xf2 chuy\u1ec7n qua tin nh\u1eafn":""}</div></div></div></div><div class="_6g3g" style="flex: 0 0 content; order: 0;"><div class="_9mk_"><div class="x1q6aqyx"><span id="js_5e" data-interactable="|mouseover|"><span class="xb2kyzz xuxw1ft">[2]</span></span></div></div></div></div></div></div>`}else{const t=i.querySelector("._7el8");t?t.textContent=o[d].results.toLocaleString("vi-VN"):i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class="_3qn7 _61-0 _2fyi _3qnf"><div class="_6g3g _9mk-" style="flex: 1 1 0px; order: 0;"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj"><span data-interactable="|mouseover|">${o[d].results.toLocaleString("vi-VN")}</span></div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">${i.textContent.includes("Ng\u01b0\u1eddi ti\u1ebfp c\u1eadn")?"Ng\u01b0\u1eddi ti\u1ebfp c\u1eadn":i.textContent.includes("L\u01b0\u1ee3t ho\xe0n t\u1ea5t \u0111\u0103ng k\xfd tr\xean trang web")?"L\u01b0\u1ee3t ho\xe0n t\u1ea5t \u0111\u0103ng k\xfd tr\xean trang web":i.textContent.includes("L\u01b0\u1ee3t b\u1eaft \u0111\u1ea7u tr\xf2 chuy\u1ec7n qua tin nh\u1eafn")?"L\u01b0\u1ee3t b\u1eaft \u0111\u1ea7u tr\xf2 chuy\u1ec7n qua tin nh\u1eafn":""}</div></div></div></div><div class="_6g3g" style="flex: 0 0 content; order: 0;"><div class="_9mk_"><div class="x1q6aqyx"><span id="js_5e" data-interactable="|mouseover|"><span class="xb2kyzz xuxw1ft">[2]</span></span></div></div></div></div></div></div>`}break;case t.COST_PER_RESULT:case e.COST_PER_RESULT:i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj"><span><div class="x1rg5ohu"><div class="xt0psk2 xmi5d70 x1fvot60 xo1l8bm xxio538 xbsr9hj">${n((o[d].spent/o[d].results).toFixed(2))}</div></div></span></div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">Tr\xean m\u1ed7i l\u01b0\u1ee3t b\u1eaft \u0111\u1ea7u cu\u1ed9c tr\xf2 chuy\u1ec7n qua tin nh\u1eafn</div></div></div></div></div>`;break;case t.SPENT:case e.SPENT:if("\u2014"===i.textContent.charAt(0)){const t=i.querySelector(".xt0psk2");t?t.textContent=n(o[d].spent):i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj"><span class="_3dfi _3dfj">${n(o[d].spent)}</span></div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">T\u1ed5ng chi ti\xeau</div></div></div></div></div>`}else{const t=i.querySelector("._3dfi._3dfj");t?t.textContent=n(o[d].spent):i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj"><span class="_3dfi _3dfj">${n(o[d].spent)}</span></div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">T\u1ed5ng chi ti\xeau</div></div></div></div></div>`}break;case t.REACH:case e.REACH:if("-"===i.textContent){const t=i.querySelector(".xt0psk2");t?t.textContent=o[d].reach.toLocaleString("vi-VN"):i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj"><div class="x1rg5ohu x67bb7w"><span style="text-decoration-line: underline; text-decoration-style: dotted;">${o[d].reach.toLocaleString("vi-VN")}</span></div></div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">t\xe0i kho\u1ea3n trong Trung t\xe2m t\xe0i kho\u1ea3n</div></div></div></div></div>`}else{const t=i.querySelector("span");t?t.textContent=o[d].reach.toLocaleString("vi-VN"):i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj"><div class="x1rg5ohu x67bb7w"><span style="text-decoration-line: underline; text-decoration-style: dotted;">${o[d].reach.toLocaleString("vi-VN")}</span></div></div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">t\xe0i kho\u1ea3n trong Trung t\xe2m t\xe0i kho\u1ea3n</div></div></div></div></div>`}break;case t.VIEWS:case e.VIEWS:if("-"===i.textContent){const t=i.querySelector(".xt0psk2");t&&(t.textContent=n(o[d].views))}else{const t=i.querySelector("span");t?t.textContent=o[d].views.toLocaleString("vi-VN"):i.innerHTML=`<div class=" _1b33 _e9h"><div class="_e9n"><div class=""><div geotextcolor="value" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto" class="xmi5d70 x1fvot60 xo1l8bm xxio538 x1lliihq x6ikm8r x10wlt62 xlyipyv xuxw1ft xbsr9hj">${o[d].views.toLocaleString("vi-VN")}</div><div class="ellipsis _1ha4" data-hover="tooltip" data-tooltip-display="overflow" data-tooltip-text-direction="auto"><div class="xt0psk2 xmi5d70 xw23nyj xo1l8bm x63nzvj x1541jtf">T\u1ed5ng</div></div></div></div></div>`}}}s.forEach(((i,s)=>{const c=i.style.left,d=Math.floor(s/l);if(o[d]&&0!==Object.keys(o[d]).length&&!(d>o.length-2))switch(a[c]){case t.RESULTS:case e.RESULTS:if("\u2014"===i.textContent.charAt(0)){const t=i.querySelector(".xt0psk2");t&&(t.textContent=o[d].results.toLocaleString("vi-VN"))}else{const t=i.querySelector("._6g3g._9mk- ._7el8");t&&(t.textContent=o[d].results.toLocaleString("vi-VN"))}break;case t.COST_PER_RESULT:case e.COST_PER_RESULT:if("\u2014"===i.textContent.charAt(0)){const t=i.querySelector(".xt0psk2");console.log(t),t&&(t.textContent=n((o[d].spent/o[d].results).toFixed(2)))}else{const t=i.querySelector("._3dfi._3dfj");t&&(t.textContent=n((o[d].spent/o[d].results).toFixed(2)))}break;case t.SPENT:case e.SPENT:if("\u2014"===i.textContent.charAt(0)){const t=i.querySelector(".xt0psk2");t&&(t.textContent=n(o[d].spent))}else{const t=i.querySelector("._3dfi._3dfj");t&&(t.textContent=n(o[d].spent))}break;case t.REACH:case e.REACH:if("-"===i.textContent){const t=i.querySelector(".xt0psk2");t&&(t.textContent=o[d].reach.toLocaleString("vi-VN"))}else{const t=i.querySelector("span");t&&(t.textContent=o[d].reach.toLocaleString("vi-VN"))}break;case t.VIEWS:case e.VIEWS:if("-"===i.textContent){const t=i.querySelector(".xt0psk2");t&&(t.textContent=o[d].views.toLocaleString("vi-VN"))}else{const t=i.querySelector("span");t&&(t.textContent=o[d].views.toLocaleString("vi-VN"))}}})),window.postMessage({type:"removeOverlay"})},d=new MutationObserver((t=>{t.forEach((t=>{try{if("childList"===t.type){const t=document.location.href;t.includes("campaigns?")?c(o):t.includes("adsets?")?c(i):t.includes("ads?")&&c(a)}}catch(e){console.log("error",e)}}))})),r=setInterval((()=>{if(l){clearInterval(r);try{const t=document.location.href;t.includes("campaigns?")?c(o):t.includes("adsets?")?c(i):t.includes("ads?")&&c(a)}catch(t){console.log("error",t)}d.observe(l.childNodes[2],{childList:!0,subtree:!0,characterData:!1,attributes:!1})}else l=document.querySelector("._3h1i._1mie ._3h1j")}),200);window.navigation.addEventListener("navigate",(t=>{const e=document.location.href;if(e.includes("adsmanager.facebook.com/adsmanager/manage/adsets?")||e.includes("adsmanager.facebook.com/adsmanager/manage/ads?")||e.includes("adsmanager.facebook.com/adsmanager/manage/campaigns?")){l&&null!==l.offsetParent&&(e.includes("adsmanager.facebook.com/adsmanager/manage/adsets?")?c(i):e.includes("adsmanager.facebook.com/adsmanager/manage/ads?")?c(a):e.includes("adsmanager.facebook.com/adsmanager/manage/campaigns?")&&c(o),d.observe(l.childNodes[2],{childList:!0,subtree:!0,characterData:!1,attributes:!1}));const r=setInterval((()=>{l&&null!==l.offsetParent?(clearInterval(r),e.includes("adsmanager.facebook.com/adsmanager/manage/adsets?")?c(i):e.includes("adsmanager.facebook.com/adsmanager/manage/ads?")?c(a):e.includes("adsmanager.facebook.com/adsmanager/manage/campaigns?")&&c(o),d.observe(l.childNodes[2],{childList:!0,subtree:!0,characterData:!1,attributes:!1})):(l=document.querySelector("._3h1i._1mie ._3h1j"),console.log(l))}),100)}if(e.includes("/insights?")){let x=document.querySelectorAll(".xt9c220 .x1xqt7ti"),v=x[0],p=x[1],u=x[2];s();const m=setInterval((()=>{x=document.querySelectorAll(".xt9c220 .x1xqt7ti"),v=x[0],p=x[1],u=x[2],v&&p&&u&&(s(),clearInterval(m))}),200);function s(){v&&p&&u&&(v.textContent=o[0].results.toLocaleString("vi-VN"),p.textContent=n((o[0].spent/o[0].results).toFixed(0)),u.textContent=n(o[0].spent))}}console.log("location changed! not in adsmanager")}))})();
//# sourceMappingURL=content.js.map